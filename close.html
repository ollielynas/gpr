<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>new link copied</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    
</head>
<body>
    <h3>Click Anywhere to copy new link and close window</h3>
    <p></p>
    <script>
        const copyContent = async () => {

        let params = new URL(document.location).searchParams;


        let id = `${params.get("id")}`; // is the string "Jonathan Smith".
        let action = `${params.get("a")}`; // is the number 18
        let move_number = `${params.get("num")}`; // is the number 18
        let name = `${params.get("name")}`; // is the number 18
        let link = `https://ollielynas.github.io/gpr/games/${name}.html?id=${id}&a=${action}&num=${move_number}`
    try {
      await navigator.clipboard.writeText(link);
      console.log('Content copied to clipboard');
      document.querySelector("h3").innerHTML = "successfully copied new link to clipboard!";
      window.close();
    } catch (err) {
      console.error('Failed to copy: ', err);
      document.querySelector("h3").innerHTML = "failed to copy new link to clipboard!"
    }
    document.querySelector("p").innerHTML = link;
}
    window.onclick = copyContent;

    </script>
</body>
</html>